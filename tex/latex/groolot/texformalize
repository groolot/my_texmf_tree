#!/bin/bash
TEMPDIR=`basename $0`
TEMPFILE=`mktemp -t ${TEMPDIR}.XXXX` || exit 1
echo -e "Will formalize following files :\n\t$*"
for file in $*; do
	#file=$1
	echo Formalize $file
	cat $file | \
		sed -E -e "s/’/\\'/g" \
		-e 's/−/-/g' \
		-e 's/•/\\textbullet/g' \
		-e 's/→/\$\\to\$/g' \
		-e 's/–/\-/g' \
		-e 's/ / /g' \
		-e 's/�/ /g' \
		-e 's/…/\\dots/g' \
		-e 's/« /\\og~/g' \
		-e 's/ »/~\\fg/g' \
		-e 's/«/\\og~/g' \
		-e 's/»/~\\fg/g' \
		-e 's/à/\\`a/g' \
		-e 's/â/\\^a/g' \
		-e "s/é/\\\'e/g" \
		-e 's/è/\\`e/g' \
		-e 's/ê/\\^e/g' \
		-e 's/ë/\\"e/g' \
		-e 's/î/\\^i/g' \
		-e 's/ï/\\"i/g' \
		-e 's/ô/\\^o/g' \
		-e 's/ö/\\"o/g' \
		-e 's/ù/\\`u/g' \
		-e 's/û/\\^u/g' \
		-e 's/ü/\\"u/g' \
		-e 's/ç/\\c{c}/g' \
		-e 's/œ/\\oe /g' \
		-e 's/À/\\`A/g' \
		-e 's/Â/\\^A/g' \
		-e "s/É/\\\'E/g" \
		-e 's/È/\\`E/g' \
		-e 's/Ê/\\^E/g' \
		-e 's/Ë/\\"E/g' \
		-e 's/Î/\\^I/g' \
		-e 's/Ï/\\"I/g' \
		-e 's/Ô/\\^O/g' \
		-e 's/Ö/\\"O/g' \
		-e 's/Ù/\\`U/g' \
		-e 's/Û/\\^U/g' \
		-e 's/Ü/\\"U/g' \
		-e 's/Ç/\\c{C}/g' \
		> $TEMPFILE
	cat $TEMPFILE > $file
	rm $TEMPFILE
done
exit 0
